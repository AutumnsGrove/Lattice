@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════
   GROVE PLANT - CSS Custom Properties
   Signup/onboarding flow styling
   ═══════════════════════════════════════════════════════════════ */

:root {
	/* Primary: Grove Green */
	--grove-50: #f0fdf4;
	--grove-100: #dcfce7;
	--grove-200: #bbf7d0;
	--grove-300: #86efac;
	--grove-400: #4ade80;
	--grove-500: #22c55e;
	--grove-600: #16a34a;
	--grove-700: #15803d;
	--grove-800: #166534;
	--grove-900: #14532d;
	--grove-950: #052e16;

	/* Neutral: Cream (Light Mode) */
	--cream: #fefdfb;
	--bark: #3d2914;

	/* Semantic Colors */
	--color-background: var(--cream);
	--color-foreground: var(--bark);
	--color-foreground-muted: rgba(61, 41, 20, 0.7);
	--color-foreground-subtle: rgba(61, 41, 20, 0.5);
	--color-foreground-faint: rgba(61, 41, 20, 0.4);

	--color-primary: var(--grove-600);
	--color-primary-hover: var(--grove-700);
	--color-primary-foreground: #ffffff;

	--color-border: var(--grove-200);
	--color-border-subtle: var(--grove-100);

	--color-surface: rgba(255, 255, 255, 0.5);
	--color-surface-elevated: #ffffff;

	--color-accent-bg: var(--grove-50);
	--color-accent-border: var(--grove-200);
	--color-accent-text: var(--grove-800);

	--color-error: #dc2626;
	--color-error-bg: #fee2e2;
	--color-success: #16a34a;
	--color-success-bg: #dcfce7;

	--shadow-sm: 0 1px 2px 0 rgb(61 41 20 / 0.05);
	--shadow-md: 0 4px 6px -1px rgb(61 41 20 / 0.1);
	--shadow-lg: 0 10px 15px -3px rgb(61 41 20 / 0.1);
	--shadow-focus: 0 0 0 2px var(--cream), 0 0 0 4px var(--grove-500);
}

/* ═══════════════════════════════════════════════════════════════
   DARK MODE
   ═══════════════════════════════════════════════════════════════ */

.dark {
	--cream: #171a1e;
	--bark: #f5f2ea;

	--color-background: var(--cream);
	--color-foreground: var(--bark);
	--color-foreground-muted: rgba(245, 242, 234, 0.7);
	--color-foreground-subtle: rgba(245, 242, 234, 0.5);
	--color-foreground-faint: rgba(245, 242, 234, 0.4);

	--color-border: #363c44;
	--color-border-subtle: #282d33;

	--color-surface: rgba(37, 35, 32, 0.5);
	--color-surface-elevated: #1e2227;

	--color-accent-bg: var(--grove-950);
	--color-accent-border: var(--grove-900);
	--color-accent-text: var(--grove-200);

	--color-error: #f87171;
	--color-error-bg: rgba(220, 38, 38, 0.15);
	--color-success: #4ade80;
	--color-success-bg: rgba(22, 163, 74, 0.15);

	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3);
}

/* ═══════════════════════════════════════════════════════════════
   FONTS
   ═══════════════════════════════════════════════════════════════ */

@font-face {
	font-family: 'Lexend';
	src: url('https://grove.place/fonts/Lexend-Regular.ttf') format('truetype');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

/* ═══════════════════════════════════════════════════════════════
   BASE STYLES
   ═══════════════════════════════════════════════════════════════ */

@layer base {
	html {
		font-family: 'Lexend', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
		transition: background-color 0.2s ease, color 0.2s ease;
	}

	body {
		background-color: var(--color-background);
		color: var(--color-foreground);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}
}

/* ═══════════════════════════════════════════════════════════════
   COMPONENT STYLES
   ═══════════════════════════════════════════════════════════════ */

@layer components {
	/* Primary button */
	.btn-primary {
		background-color: var(--color-primary);
		color: var(--color-primary-foreground);
		font-weight: 500;
		padding: 0.75rem 1.5rem;
		border-radius: 0.5rem;
		transition: all 0.2s ease;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
	}

	.btn-primary:hover:not(:disabled) {
		background-color: var(--color-primary-hover);
		transform: translateY(-1px);
	}

	.btn-primary:focus {
		outline: none;
		box-shadow: var(--shadow-focus);
	}

	.btn-primary:disabled {
		opacity: 0.6;
		cursor: not-allowed;
	}

	/* Secondary/outline button */
	.btn-secondary {
		background-color: transparent;
		color: var(--color-foreground);
		font-weight: 500;
		padding: 0.75rem 1.5rem;
		border-radius: 0.5rem;
		border: 1px solid var(--color-border);
		transition: all 0.2s ease;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
	}

	.btn-secondary:hover:not(:disabled) {
		background-color: var(--color-surface);
		border-color: var(--color-primary);
	}

	/* Auth provider buttons */
	.btn-auth {
		width: 100%;
		padding: 0.875rem 1.5rem;
		border-radius: 0.75rem;
		border: 1px solid var(--color-border);
		background-color: var(--color-surface-elevated);
		color: var(--color-foreground);
		font-weight: 500;
		transition: all 0.2s ease;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.75rem;
	}

	.btn-auth:hover:not(:disabled) {
		border-color: var(--color-primary);
		background-color: var(--color-accent-bg);
	}

	/* Input field */
	.input-field {
		width: 100%;
		padding: 0.75rem 1rem;
		border-radius: 0.5rem;
		border: 1px solid var(--color-border);
		background-color: var(--color-surface-elevated);
		color: var(--color-foreground);
		transition: border-color 0.2s ease, box-shadow 0.2s ease;
	}

	.input-field::placeholder {
		color: var(--color-foreground-faint);
	}

	.input-field:focus {
		outline: none;
		border-color: var(--color-primary);
		box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.15);
	}

	.input-field.error {
		border-color: var(--color-error);
	}

	.input-field.success {
		border-color: var(--color-success);
	}

	/* Card */
	.card {
		background-color: var(--color-surface-elevated);
		border: 1px solid var(--color-border);
		border-radius: 0.75rem;
		padding: 1.5rem;
	}

	/* Plan card */
	.plan-card {
		background-color: var(--color-surface-elevated);
		border: 2px solid var(--color-border);
		border-radius: 1rem;
		padding: 1.5rem;
		transition: all 0.2s ease;
		cursor: pointer;
	}

	.plan-card:hover {
		border-color: var(--color-primary);
		transform: translateY(-2px);
		box-shadow: var(--shadow-lg);
	}

	.plan-card.selected {
		border-color: var(--color-primary);
		background-color: var(--color-accent-bg);
	}

	.plan-card.popular {
		position: relative;
	}

	.plan-card.popular::before {
		content: 'Popular';
		position: absolute;
		top: -0.75rem;
		left: 50%;
		transform: translateX(-50%);
		background-color: var(--color-primary);
		color: white;
		font-size: 0.75rem;
		font-weight: 600;
		padding: 0.25rem 0.75rem;
		border-radius: 9999px;
	}

	/* Progress steps */
	.step-indicator {
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}

	.step-dot {
		width: 0.5rem;
		height: 0.5rem;
		border-radius: 9999px;
		background-color: var(--color-border);
		transition: all 0.2s ease;
	}

	.step-dot.active {
		width: 1.5rem;
		background-color: var(--color-primary);
	}

	.step-dot.completed {
		background-color: var(--color-primary);
	}
}

/* ═══════════════════════════════════════════════════════════════
   UTILITY CLASSES
   ═══════════════════════════════════════════════════════════════ */

.text-foreground { color: var(--color-foreground); }
.text-foreground-muted { color: var(--color-foreground-muted); }
.text-foreground-subtle { color: var(--color-foreground-subtle); }
.text-primary { color: var(--color-primary); }
.text-error { color: var(--color-error); }
.text-success { color: var(--color-success); }

.bg-page { background-color: var(--color-background); }
.bg-surface { background-color: var(--color-surface); }
.bg-surface-elevated { background-color: var(--color-surface-elevated); }
.bg-accent { background-color: var(--color-accent-bg); }

.border-default { border-color: var(--color-border); }
.border-subtle { border-color: var(--color-border-subtle); }

/* Subtle vine pattern background */
.leaf-pattern {
	background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5 Q35 15 30 25 Q25 15 30 5' fill='%2322c55e' opacity='0.05'/%3E%3Cpath d='M10 35 Q15 25 20 35 Q15 45 10 35' fill='%2322c55e' opacity='0.04'/%3E%3Cpath d='M45 40 Q50 30 55 40 Q50 50 45 40' fill='%2322c55e' opacity='0.04'/%3E%3C/svg%3E");
}

/* Loading spinner */
.spinner {
	width: 1.25rem;
	height: 1.25rem;
	border: 2px solid var(--color-border);
	border-top-color: var(--color-primary);
	border-radius: 50%;
	animation: spin 0.8s linear infinite;
}

@keyframes spin {
	to { transform: rotate(360deg); }
}
