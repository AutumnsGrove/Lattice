@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
	font-family: 'Lexend';
	src: url('https://cdn.grove.place/fonts/Lexend-Regular.ttf') format('truetype');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@layer base {
	html {
		font-family: 'Lexend', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	}

	body {
		@apply bg-cream dark:bg-neutral-950 text-bark dark:text-neutral-100 antialiased;
	}
}

@layer components {
	.btn-primary {
		@apply bg-domain-600 hover:bg-domain-700 dark:bg-domain-500 dark:hover:bg-domain-600
			text-white font-sans font-medium
			px-6 py-3 rounded-lg transition-colors duration-200
			focus:outline-none focus:ring-2 focus:ring-domain-500 focus:ring-offset-2
			dark:focus:ring-offset-neutral-900;
	}

	.btn-secondary {
		@apply bg-grove-600 hover:bg-grove-700 dark:bg-grove-500 dark:hover:bg-grove-600
			text-white font-sans font-medium
			px-6 py-3 rounded-lg transition-colors duration-200
			focus:outline-none focus:ring-2 focus:ring-grove-500 focus:ring-offset-2
			dark:focus:ring-offset-neutral-900;
	}

	.btn-ghost {
		@apply bg-transparent hover:bg-bark/5 dark:hover:bg-white/10
			text-bark dark:text-neutral-100 font-sans font-medium
			px-4 py-2 rounded-lg transition-colors duration-200
			focus:outline-none focus:ring-2 focus:ring-bark/20 dark:focus:ring-white/20;
	}

	.input-field {
		@apply w-full px-4 py-3 rounded-lg border border-grove-200 dark:border-neutral-700
			focus:border-domain-500 dark:focus:border-domain-400
			focus:ring-2 focus:ring-domain-500/20 dark:focus:ring-domain-400/20
			focus:outline-none transition-all duration-200
			bg-white dark:bg-neutral-800/60
			text-bark dark:text-neutral-100
			placeholder:text-bark/40 dark:placeholder:text-neutral-500;
	}

	.card {
		@apply bg-white dark:bg-neutral-900/75 rounded-xl
			border border-grove-200 dark:border-neutral-700/50 shadow-sm;
	}

	.badge {
		@apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium font-sans;
	}

	.badge-success {
		@apply bg-grove-100 dark:bg-grove-900/50 text-grove-800 dark:text-grove-200;
	}

	.badge-warning {
		@apply bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200;
	}

	.badge-error {
		@apply bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200;
	}

	.badge-info {
		@apply bg-domain-100 dark:bg-domain-900/50 text-domain-800 dark:text-domain-200;
	}

	/* Tab navigation */
	.tab {
		@apply px-4 py-2 font-sans text-sm font-medium rounded-lg transition-colors duration-200;
	}

	.tab-active {
		@apply bg-domain-100 dark:bg-domain-900/50 text-domain-700 dark:text-domain-300;
	}

	.tab-inactive {
		@apply text-bark/60 dark:text-neutral-400
			hover:text-bark dark:hover:text-neutral-200
			hover:bg-bark/5 dark:hover:bg-white/10;
	}
}

/* Subtle gradient background for domain pages */
.domain-gradient {
	background: linear-gradient(135deg, #f5f3ff 0%, #fefdfb 50%, #f0fdf4 100%);
}

.dark .domain-gradient {
	background: linear-gradient(135deg, #1e1b2e 0%, #1c1917 50%, #1a2e1e 100%);
}

/* Animation for status indicators */
@keyframes pulse-slow {
	0%, 100% { opacity: 1; }
	50% { opacity: 0.5; }
}

.animate-pulse-slow {
	animation: pulse-slow 2s ease-in-out infinite;
}

/* Domain result card hover effect */
.domain-card {
	@apply card p-4 transition-all duration-200
		hover:shadow-md hover:border-domain-300 dark:hover:border-domain-600;
}

/* Status dot indicator */
.status-dot {
	@apply w-2 h-2 rounded-full;
}

.status-dot-running {
	@apply bg-domain-500 dark:bg-domain-400 animate-pulse-slow;
}

.status-dot-complete {
	@apply bg-grove-500 dark:bg-grove-400;
}

.status-dot-error {
	@apply bg-red-500 dark:bg-red-400;
}

.status-dot-pending {
	@apply bg-bark/30 dark:bg-neutral-600;
}

.status-dot-warning {
	@apply bg-amber-500 dark:bg-amber-400 animate-pulse-slow;
}

/* =============================================================================
   GLASS DESIGN SYSTEM
   Domain-specific glassmorphism with slightly higher opacity for professionalism
   Uses project-defined colors: neutral-*, grove-*, domain-*

   PADDING PHILOSOPHY:
   - Container utilities (glass-form-section) include padding for consistent spacing
   - Layout utilities (glass-card, glass-stat) exclude padding for flexibility
   ============================================================================= */

/* Browser fallback for backdrop-blur (Safari < 9, older browsers) */
@supports not (backdrop-filter: blur(12px)) {
	/* Light mode fallbacks - variant-appropriate opacities */
	.glass { background-color: rgba(255, 255, 255, 0.95); }
	.glass-subtle { background-color: rgba(255, 255, 255, 0.90); }
	.glass-frosted { background-color: rgba(255, 255, 255, 0.97); }
	.glass-surface { background-color: rgba(255, 255, 255, 0.98); }
	.glass-card { background-color: rgba(255, 255, 255, 0.95); }
	.glass-card-muted { background-color: rgba(255, 255, 255, 0.85); }
	.glass-card-accent { background-color: rgba(245, 243, 255, 0.90); } /* domain-50 tinted */
	.glass-tint { background-color: rgba(255, 255, 255, 0.92); }
	.glass-input { background-color: rgba(255, 255, 255, 0.90); }
	.glass-tabs { background-color: rgba(255, 255, 255, 0.90); }
	.glass-stat { background-color: rgba(255, 255, 255, 0.93); }
	.glass-form-section { background-color: rgba(255, 255, 255, 0.93); }
}

/* Dark mode fallbacks */
@supports not (backdrop-filter: blur(12px)) {
	@media (prefers-color-scheme: dark) {
		.glass { background-color: rgba(28, 25, 23, 0.95); } /* neutral-900 */
		.glass-subtle { background-color: rgba(28, 25, 23, 0.90); }
		.glass-frosted { background-color: rgba(28, 25, 23, 0.97); }
		.glass-surface { background-color: rgba(28, 25, 23, 0.98); }
		.glass-card { background-color: rgba(28, 25, 23, 0.95); }
		.glass-card-muted { background-color: rgba(28, 25, 23, 0.85); }
		.glass-card-accent { background-color: rgba(76, 29, 149, 0.60); } /* domain-900 tinted */
		.glass-tint { background-color: rgba(28, 25, 23, 0.92); }
		.glass-input { background-color: rgba(41, 37, 36, 0.90); } /* neutral-800 */
		.glass-tabs { background-color: rgba(28, 25, 23, 0.90); }
		.glass-stat { background-color: rgba(28, 25, 23, 0.93); }
		.glass-form-section { background-color: rgba(28, 25, 23, 0.93); }
	}
}

/* Glass utility classes - base glass effects */
.glass {
	@apply bg-white/75 dark:bg-neutral-900/75 backdrop-blur-md;
}

.glass-subtle {
	@apply bg-white/60 dark:bg-neutral-900/60 backdrop-blur-sm;
}

.glass-frosted {
	@apply bg-white/80 dark:bg-neutral-900/80 backdrop-blur-lg;
}

/* Glass surface - for sticky headers, navbars */
.glass-surface {
	@apply bg-white/90 dark:bg-neutral-900/90 backdrop-blur-md
		border-b border-white/50 dark:border-neutral-700/50;
}

/* Glass card - content containers with warm styling (no padding - add as needed) */
.glass-card {
	@apply bg-white/75 dark:bg-neutral-900/75 backdrop-blur-md
		rounded-xl border border-white/50 dark:border-neutral-700/50
		shadow-sm transition-all duration-200;
}

.glass-card-hover:hover {
	@apply bg-white/85 dark:bg-neutral-900/85
		shadow-lg border-domain-200/50 dark:border-domain-600/30;
}

/* Glass card variants */
.glass-card-muted {
	@apply bg-white/50 dark:bg-neutral-900/50 backdrop-blur-sm
		rounded-xl border border-white/30 dark:border-neutral-700/40
		shadow-sm;
}

.glass-card-accent {
	@apply bg-domain-50/60 dark:bg-domain-950/40 backdrop-blur-md
		rounded-xl border border-domain-200/50 dark:border-domain-700/50
		shadow-sm;
}

/* Glass tint - for text containers over backgrounds */
.glass-tint {
	@apply bg-white/65 dark:bg-neutral-900/65 backdrop-blur-sm
		border border-white/40 dark:border-neutral-700/40
		rounded-lg;
}

/* Glass input styling */
.glass-input {
	@apply bg-white/60 dark:bg-neutral-800/60 backdrop-blur-sm
		border border-white/50 dark:border-neutral-600/40
		focus:bg-white/80 dark:focus:bg-neutral-800/80
		focus:border-domain-400 dark:focus:border-domain-500
		transition-all duration-200;
}

/* Glass tab navigation */
.glass-tabs {
	@apply bg-white/60 dark:bg-neutral-900/60 backdrop-blur-sm
		border-b border-white/40 dark:border-neutral-700/50;
}

/* Glass stats card - for dashboard metrics (no padding - add p-4 or p-6 as needed) */
.glass-stat {
	@apply bg-white/70 dark:bg-neutral-900/70 backdrop-blur-md
		rounded-xl border border-white/50 dark:border-neutral-700/50
		transition-all duration-200;
}

.glass-stat:hover {
	@apply bg-white/80 dark:bg-neutral-900/80 shadow-md;
}

/* Glass form section (includes p-6 padding for consistent form spacing) */
.glass-form-section {
	@apply bg-white/70 dark:bg-neutral-900/70 backdrop-blur-md
		rounded-xl border border-white/50 dark:border-neutral-700/50
		p-6 shadow-sm;
}

/* Glass internal dividers - lighter than card borders for subtle separation */
.glass-divider {
	@apply border-white/30 dark:border-neutral-700/40;
}

.glass-divide {
	@apply divide-white/30 dark:divide-neutral-700/40;
}
