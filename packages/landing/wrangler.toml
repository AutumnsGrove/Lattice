name = "grove-landing"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = ".svelte-kit/cloudflare"

# Environment variables for local development
[vars]
CDN_URL = "http://localhost:5173/cdn"
# Turnstile (Shade) - human verification
TURNSTILE_SITE_KEY = "0x4AAAAAACI9p49O_VFDy3WA"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "grove-engine-db"
database_id = "a6394da2-b7a6-48ce-b7fe-b1eb3e730e68"

# GroveAuth Service Binding (Heartwood - fast session validation)
[[services]]
binding = "AUTH"
service = "groveauth"

# R2 Storage binding
[[r2_buckets]]
binding = "CDN_BUCKET"
bucket_name = "grove-cdn"

# Secrets (configured in Cloudflare Dashboard - Pages > Settings > Bindings):
# - RESEND_API_KEY (environment variable, not secret for Pages)
# - ADMIN_EMAILS (environment variable)
# - CDN_URL = https://cdn.grove.place (production only)
# - TURNSTILE_SECRET_KEY = Cloudflare Turnstile secret (Shade)
#
# NOTE: D1 and R2 bindings are read from this file by wrangler pages deploy.
# For secrets/env vars, configure them in Cloudflare Dashboard since
# wrangler pages deploy doesn't support --var flags.
