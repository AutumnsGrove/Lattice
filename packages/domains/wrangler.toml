name = "grove-domains"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = ".svelte-kit/cloudflare"

# Environment variables for local development
[vars]
SITE_NAME = "Forage"
SITE_URL = "http://localhost:5174"
GROVEAUTH_URL = "https://login.grove.place"

# D1 Database binding (shared with main platform)
[[d1_databases]]
binding = "DB"
database_name = "grove-engine-db"
database_id = "a6394da2-b7a6-48ce-b7fe-b1eb3e730e68"

# GroveAuth Service Binding (Heartwood - fast session validation)
[[services]]
binding = "AUTH"
service = "groveauth"

# Secrets (configured in Cloudflare Dashboard or via wrangler pages secret):
# - RESEND_API_KEY
# - ADMIN_EMAILS
# - ANTHROPIC_API_KEY (legacy - no longer used, kept for compatibility)
# - DOMAIN_WORKER_URL (URL to the Forage worker: https://forage.m7jv4v7npb.workers.dev - uses DeepSeek v3.2 via OpenRouter)
# - GROVEAUTH_CLIENT_ID (OAuth client ID)
# - GROVEAUTH_CLIENT_SECRET (OAuth client secret)
# Production SITE_URL is set via --var flag in deployment
